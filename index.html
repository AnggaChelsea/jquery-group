<!DOCTYPE html>
<html>
<head>
<meta name="description" content="jQuery plugin for tournament group stages" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<script type="text/javascript" src="lib/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="lib/Bacon-1ab32ffb.min.js"></script>
<script type="text/javascript" src="lib/lodash-v1.0.0-rc.3.min.js"></script>
<script type="text/javascript" src="lib/live.js"></script>
<script type="text/javascript" src="lib/handlebars-1.0.rc.2.js"></script>
<script type="text/javascript" src="jquery.group.js"></script>
<link type="text/css" rel="stylesheet" href="jquery.group.css" />
<style>
body { padding: 1em 3em; }
pre { background-color: #EEE; }
</style>
<script type='text/javascript'>
function printState(state) {
  $('pre').text(JSON.stringify(state, undefined, 2))
}

$(function() {
  var participants = _(["a", "b", "c", "d", "e"])
  var pairs = participants.map(function(it, i) {
    return participants.filter(function(_, j) { return j < i }).map(function(it2) {
      return { round: ~~(Math.random()*10)%5,
              a: { name: it,  score: ~~(Math.random()*10)%10 },
              b: { name: it2, score: ~~(Math.random()*10)%10 } }
    }).value()
  }).flatten(true)

  $('#container').group({ pairs: pairs.value(), onchange: printState })
})
</script>
<title>jQuery group</title>
<script type='text/javascript'>
  //<![CDATA[
  if (window.location.host != "localhost") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1488867-1']);
    _gaq.push(['_trackPageview']);
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
  //]]>
</script>
</head>
<body>
<h1>Tournament group</h1>
<div id="container"></div>
<h2>onchange() -> JSON</h2>
<pre id="state"></pre>
</body>
</html>
